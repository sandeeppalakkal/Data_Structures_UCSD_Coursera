# Uses Python3

'''Task. You are given a description of a rooted tree. Your task is to compute and output its height. Recall
that the height of a (rooted) tree is the maximum depth of a node, or the maximum distance from a
leaf to the root. You are given an arbitrary tree, not necessarily a binary tree.
Input Format. The first line contains the number of nodes ğ‘›. The second line contains ğ‘› integer numbers
from âˆ’1 to ğ‘› âˆ’ 1 â€” parents of nodes. If the ğ‘–-th one of them (0 â‰¤ ğ‘– â‰¤ ğ‘› âˆ’ 1) is âˆ’1, node ğ‘– is the root,
 otherwise itâ€™s 0-based index of the parent of ğ‘–-th node. It is guaranteed that there is exactly one root.
 It is guaranteed that the input represents a tree.
 Constraints. 1 â‰¤ ğ‘› â‰¤ 105.
 Output Format. Output the height of the tree.'''

class Node:
    def __init__(self,data):
        self.data = data
        self.children = []

    def print(self):
        if len(self.children) == 0:
            return
        print(self.data,' --> ',end="")
        for child in self.children:
            print(child.data,end=",")
        print()
        for child in self.children:
            child.print()

    def add_children(self,nodes):
        self.children.extend([node for node in nodes])

def tree_height(a):
    h = 0
    return h

def create_tree(parents):
    # Create parent nodes
    nodes = []
    for i in range(len(parents)):
        nodes.append(Node(i))

    # Add children to parent nodes
    for child_id in range(len(parents)):
        if parents[child_id] == -1:
            root = nodes[child_id]
        else:
            parent_id = parents[child_id]
            nodes[parent_id].add_children([nodes[child_id]])
    root.print()
    return root

def main():
    n = int(input())
    a = list(map(int,input().split()[:n]))
    # Create the tree
    tree = create_tree(a)
    h = tree_height(a)
    print(h)

if __name__ == '__main__':
    main()
